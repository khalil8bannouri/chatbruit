{"ast":null,"code":"import { colors } from '../styles/colors';\nexport class PsychologyEngine {\n  constructor(userId) {\n    this.userId = userId;\n    this.engagement = 0.5;\n    this.curiosity = 0.5;\n    this.frustration = 0.0;\n    this.sessionStart = Date.now();\n    this.interactionCount = 0;\n    this.lastProfoundInsight = 0;\n\n    // Variable ratio schedule for rewards\n    this.rewardSchedule = [3, 5, 8, 13];\n    this.nextRewardAt = this.getNextRewardCount();\n  }\n  getNextRewardCount() {\n    return this.rewardSchedule[Math.floor(Math.random() * this.rewardSchedule.length)];\n  }\n\n  // Update psychology based on interaction\n  updatePsychology(interactionType, responseQuality) {\n    this.interactionCount++;\n    switch (interactionType) {\n      case 'profound_insight':\n        this.engagement = Math.min(1, this.engagement + 0.2);\n        this.curiosity = Math.min(1, this.curiosity + 0.15);\n        this.lastProfoundInsight = this.interactionCount;\n        break;\n      case 'humor':\n        this.engagement = Math.min(1, this.engagement + 0.1);\n        this.frustration = Math.max(0, this.frustration - 0.1);\n        break;\n      case 'confusion':\n        this.frustration = Math.min(0.7, this.frustration + 0.15);\n        this.curiosity = Math.min(1, this.curiosity + 0.1);\n        break;\n      case 'personal_connection':\n        this.engagement = Math.min(1, this.engagement + 0.15);\n        break;\n      default:\n        this.engagement = Math.min(1, this.engagement + 0.05);\n    }\n\n    // Natural decay over time\n    this.engagement *= 0.99;\n    this.curiosity *= 0.98;\n    this.frustration *= 0.95;\n  }\n\n  // Check if it's time for a variable ratio reward\n  shouldGiveReward() {\n    if (this.interactionCount >= this.nextRewardAt) {\n      this.nextRewardAt = this.interactionCount + this.getNextRewardCount();\n      return true;\n    }\n    return false;\n  }\n\n  // Generate Barnum statements (vague but personal)\n  generateBarnumStatement() {\n    const statements = [\"Vous avez un grand besoin que les autres vous apprécient et vous admirent.\", \"Vous avez tendance à être critique envers vous-même.\", \"Parfois, vous avez de sérieux doutes sur vos décisions.\", \"Vous préférez un certain changement et devenez insatisfait·e quand vous êtes contraint·e.\", \"Bien que vous ayez des faiblesses, vous savez généralement les compenser.\", \"Votre ajustement émotionnel vous a parfois posé problème.\", \"Discipliné·e à l'extérieur, vous êtes parfois inquiet·insecure à l'intérieur.\", \"Parfois extraverti·e et sociable, d'autres fois introverti·e et réservé·e.\", \"Certaines de vos aspirations sont assez irréalistes.\", \"La sécurité est l'un de vos principaux objectifs dans la vie.\"];\n    return statements[Math.floor(Math.random() * statements.length)];\n  }\n\n  // Get color based on psychological state\n  getMoodColor(mood) {\n    return colors.moods[mood] || colors.primary[500];\n  }\n\n  // Get recommended interaction strategy\n  getRecommendedStrategy() {\n    if (this.frustration > 0.6) return 'humor';\n    if (this.engagement < 0.3) return 'profound_insight';\n    if (this.curiosity > 0.7) return 'mystery';\n    if (this.interactionCount % 7 === 0) return 'personal_connection';\n    const strategies = ['humor', 'philosophical', 'absurd', 'question'];\n    return strategies[Math.floor(Math.random() * strategies.length)];\n  }\n\n  // Get psychology metrics for display\n  getMetrics() {\n    return {\n      engagement: this.engagement,\n      curiosity: this.curiosity,\n      frustration: this.frustration,\n      interactionCount: this.interactionCount,\n      sessionDuration: Math.floor((Date.now() - this.sessionStart) / 1000),\n      nextRewardIn: this.nextRewardAt - this.interactionCount\n    };\n  }\n}","map":{"version":3,"names":["colors","PsychologyEngine","constructor","userId","engagement","curiosity","frustration","sessionStart","Date","now","interactionCount","lastProfoundInsight","rewardSchedule","nextRewardAt","getNextRewardCount","Math","floor","random","length","updatePsychology","interactionType","responseQuality","min","max","shouldGiveReward","generateBarnumStatement","statements","getMoodColor","mood","moods","primary","getRecommendedStrategy","strategies","getMetrics","sessionDuration","nextRewardIn"],"sources":["C:/Users/ASUS/chat-bruti/frontend/src/utils/psychologyEngine.js"],"sourcesContent":["import { colors } from '../styles/colors';\n\nexport class PsychologyEngine {\n    constructor(userId) {\n        this.userId = userId;\n        this.engagement = 0.5;\n        this.curiosity = 0.5;\n        this.frustration = 0.0;\n        this.sessionStart = Date.now();\n        this.interactionCount = 0;\n        this.lastProfoundInsight = 0;\n\n        // Variable ratio schedule for rewards\n        this.rewardSchedule = [3, 5, 8, 13];\n        this.nextRewardAt = this.getNextRewardCount();\n    }\n\n    getNextRewardCount() {\n        return this.rewardSchedule[Math.floor(Math.random() * this.rewardSchedule.length)];\n    }\n\n    // Update psychology based on interaction\n    updatePsychology(interactionType, responseQuality) {\n        this.interactionCount++;\n\n        switch (interactionType) {\n            case 'profound_insight':\n                this.engagement = Math.min(1, this.engagement + 0.2);\n                this.curiosity = Math.min(1, this.curiosity + 0.15);\n                this.lastProfoundInsight = this.interactionCount;\n                break;\n\n            case 'humor':\n                this.engagement = Math.min(1, this.engagement + 0.1);\n                this.frustration = Math.max(0, this.frustration - 0.1);\n                break;\n\n            case 'confusion':\n                this.frustration = Math.min(0.7, this.frustration + 0.15);\n                this.curiosity = Math.min(1, this.curiosity + 0.1);\n                break;\n\n            case 'personal_connection':\n                this.engagement = Math.min(1, this.engagement + 0.15);\n                break;\n\n            default:\n                this.engagement = Math.min(1, this.engagement + 0.05);\n        }\n\n        // Natural decay over time\n        this.engagement *= 0.99;\n        this.curiosity *= 0.98;\n        this.frustration *= 0.95;\n    }\n\n    // Check if it's time for a variable ratio reward\n    shouldGiveReward() {\n        if (this.interactionCount >= this.nextRewardAt) {\n            this.nextRewardAt = this.interactionCount + this.getNextRewardCount();\n            return true;\n        }\n        return false;\n    }\n\n    // Generate Barnum statements (vague but personal)\n    generateBarnumStatement() {\n        const statements = [\n            \"Vous avez un grand besoin que les autres vous apprécient et vous admirent.\",\n            \"Vous avez tendance à être critique envers vous-même.\",\n            \"Parfois, vous avez de sérieux doutes sur vos décisions.\",\n            \"Vous préférez un certain changement et devenez insatisfait·e quand vous êtes contraint·e.\",\n            \"Bien que vous ayez des faiblesses, vous savez généralement les compenser.\",\n            \"Votre ajustement émotionnel vous a parfois posé problème.\",\n            \"Discipliné·e à l'extérieur, vous êtes parfois inquiet·insecure à l'intérieur.\",\n            \"Parfois extraverti·e et sociable, d'autres fois introverti·e et réservé·e.\",\n            \"Certaines de vos aspirations sont assez irréalistes.\",\n            \"La sécurité est l'un de vos principaux objectifs dans la vie.\"\n        ];\n        return statements[Math.floor(Math.random() * statements.length)];\n    }\n\n    // Get color based on psychological state\n    getMoodColor(mood) {\n        return colors.moods[mood] || colors.primary[500];\n    }\n\n    // Get recommended interaction strategy\n    getRecommendedStrategy() {\n        if (this.frustration > 0.6) return 'humor';\n        if (this.engagement < 0.3) return 'profound_insight';\n        if (this.curiosity > 0.7) return 'mystery';\n        if (this.interactionCount % 7 === 0) return 'personal_connection';\n\n        const strategies = ['humor', 'philosophical', 'absurd', 'question'];\n        return strategies[Math.floor(Math.random() * strategies.length)];\n    }\n\n    // Get psychology metrics for display\n    getMetrics() {\n        return {\n            engagement: this.engagement,\n            curiosity: this.curiosity,\n            frustration: this.frustration,\n            interactionCount: this.interactionCount,\n            sessionDuration: Math.floor((Date.now() - this.sessionStart) / 1000),\n            nextRewardIn: this.nextRewardAt - this.interactionCount\n        };\n    }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}